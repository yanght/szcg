//>>built
define("dgrid/extensions/ColumnReorder",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/query","dojo/dnd/Source","put-selector/put","xstyle/css!../css/extensions/ColumnReorder.css"],function(_1,_2,_3,_4,_5,_6){var _7=_2(_5,{copyState:function(){return false;},checkAcceptance:function(_8,_9){return _8==this;},_legalMouseDown:function(_a){return _a.target.className.indexOf("dgrid-resize-handle")>-1?false:this.inherited(arguments);},onDropInternal:function(_b){var _c=this.grid,_d=_c.get("columns"),_e=[];this.inherited(arguments);setTimeout(function(){_3.forEach(_b[0].parentNode.childNodes,function(_f){_e.push(_d[_f.columnId]);});_c.set("subRows",[_e]);},0);}});var _10=_2("dgrid.extensions.ColumnReorder",[],{columnDndConstructor:_7,renderHeader:function(){if(this.columnDndSource){this.columnDndSource.destroy();}this.inherited(arguments);var _11=this._columnDndType="dgrid-"+this.id+"-column",_12;if(this.subRows.length==1&&!this.columnSets){_3.forEach(this.subRows[0],function(col){if(col.reorderable===false){return;}var th=col.headerNode;if(th.tagName!="TH"){th=th.parentNode;}_6(th,".dojoDndItem[dndType="+_11+"]");if(!_12){_12=th.parentNode;}});if(_12){this.columnDndSource=new this.columnDndConstructor(_12,{horizontal:true,grid:this});}else{delete this.columnDndSource;}}}});_10.ColumnDndSource=_7;return _10;});