//>>built
define("dgrid/util/touch",["dojo/on","dojo/has","dojo/query"],function(on,_1,_2){var _3={tapRadius:10,dbltapTime:250};function _4(_5,_6,_7,_8){if(_7.targetTouches.length>1){return;}var _9=_7.changedTouches[0],_a=_9.screenX,_b=_9.screenY;_8&&_7.preventDefault();var _c=on(_5,"touchend",function(_d){var _e=_d.changedTouches[0];if(!_d.targetTouches.length){if(Math.abs(_e.screenX-_a)<_3.tapRadius&&Math.abs(_e.screenY-_b)<_3.tapRadius){_8&&_d.preventDefault();_6.call(this,_d);}_c.remove();}});};function _f(_10,_11){return on(_10,"touchstart",function(evt){_4(_10,_11,evt);});};function _12(_13,_14){var _15,_16;return on(_13,"touchstart",function(evt){if(!_15){_4(_13,function(evt){_15=evt.changedTouches[0];_16=setTimeout(function(){_15=_16=null;},_3.dbltapTime);},evt);}else{_4(_13,function(evt){if(!_15){return;}var _17=evt.changedTouches[0];if(Math.abs(_17.screenX-_15.screenX)<_3.tapRadius&&Math.abs(_17.screenY-_15.screenY)<_3.tapRadius){_16&&clearTimeout(_16);_15=_16=null;_14.call(this,evt);}},evt,true);}});};_3.tap=_f;_3.dbltap=_12;_3.selector=function(_18,_19,_1a){return function(_1b,_1c){var _1d=_19.bubble;if(_1d){_19=_1d;}else{if(_1a!==false){_1a=true;}}return on(_1b,_19,function(_1e){var _1f=_1e.target;if(_1f.nodeType==3){_1f=_1f.parentNode;}while(!_2.matches(_1f,_18,_1b)){if(_1f==_1b||!_1a||!(_1f=_1f.parentNode)){return;}}return _1c.call(_1f,_1e);});};};return _3;});