/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(g,_1,m){var _2=2*Math.PI,_3=Math.PI/4,_4=Math.PI/8,_5=_3+_4,_6=_7(_4);function _7(_8){var _9=Math.cos(_8),_a=Math.sin(_8),p2={x:_9+(4/3)*(1-_9),y:_a-(4/3)*_9*(1-_9)/_a};return {s:{x:_9,y:-_a},c1:{x:p2.x,y:-p2.y},c2:p2,e:{x:_9,y:_a}};};var _b=g.arc={unitArcAsBezier:_7,curvePI4:_6,arcAsBezier:function(_c,rx,ry,_d,_e,_f,x,y){_e=Boolean(_e);_f=Boolean(_f);var _10=m._degToRad(_d),rx2=rx*rx,ry2=ry*ry,pa=m.multiplyPoint(m.rotate(-_10),{x:(_c.x-x)/2,y:(_c.y-y)/2}),_11=pa.x*pa.x,_12=pa.y*pa.y,c1=Math.sqrt((rx2*ry2-rx2*_12-ry2*_11)/(rx2*_12+ry2*_11));if(isNaN(c1)){c1=0;}var ca={x:c1*rx*pa.y/ry,y:-c1*ry*pa.x/rx};if(_e==_f){ca={x:-ca.x,y:-ca.y};}var c=m.multiplyPoint([m.translate((_c.x+x)/2,(_c.y+y)/2),m.rotate(_10)],ca);var _13=m.normalize([m.translate(c.x,c.y),m.rotate(_10),m.scale(rx,ry)]);var _14=m.invert(_13),sp=m.multiplyPoint(_14,_c),ep=m.multiplyPoint(_14,x,y),_15=Math.atan2(sp.y,sp.x),_16=Math.atan2(ep.y,ep.x),_17=_15-_16;if(_f){_17=-_17;}if(_17<0){_17+=_2;}else{if(_17>_2){_17-=_2;}}var _18=_4,_19=_6,_1a=_f?_18:-_18,_1b=[];for(var _1c=_17;_1c>0;_1c-=_3){if(_1c<_5){_18=_1c/2;_19=_7(_18);_1a=_f?_18:-_18;_1c=0;}var c2,e,M=m.normalize([_13,m.rotate(_15+_1a)]);if(_f){c1=m.multiplyPoint(M,_19.c1);c2=m.multiplyPoint(M,_19.c2);e=m.multiplyPoint(M,_19.e);}else{c1=m.multiplyPoint(M,_19.c2);c2=m.multiplyPoint(M,_19.c1);e=m.multiplyPoint(M,_19.s);}_1b.push([c1.x,c1.y,c2.x,c2.y,e.x,e.y]);_15+=2*_1a;}return _1b;}};return _b;});},"dojox/gfx/shape":function(){define("dojox/gfx/shape",["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/kernel","dojo/_base/sniff","dojo/_base/connect","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,_1d,_1e,_1f,has,_20,arr,_21,_22,_23){var _24=g.shape={};var _25={};var _26={};_24.register=function(s){var t=s.declaredClass.split(".").pop();var i=t in _25?++_25[t]:((_25[t]=0));var uid=t+i;_26[uid]=s;return uid;};_24.byId=function(id){return _26[id];};_24.dispose=function(s){delete _26[s.getUID()];};_24.Shape=_1e("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;var uid=_24.register(this);this.getUID=function(){return uid;};},destroy:function(){_24.dispose(this);},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_23;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setClip:function(_27){this.clip=_27;},getClip:function(){return this.clip;},setShape:function(_28){this.shape=g.makeParameters(this.shape,_28);this.bbox=null;return this;},setFill:function(_29){if(!_29){this.fillStyle=null;return this;}var f=null;if(typeof (_29)=="object"&&"type" in _29){switch(_29.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,_29);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,_29);break;case "pattern":f=g.makeParameters(g.defaultPattern,_29);break;}}else{f=g.normalizeColor(_29);}this.fillStyle=f;return this;},setStroke:function(_2a){if(!_2a){this.strokeStyle=null;return this;}if(typeof _2a=="string"||_1d.isArray(_2a)||_2a instanceof _22){_2a={color:_2a};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_2a);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_2b){this.matrix=_23.clone(_2b?_23.normalize(_2b):_23.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_2c){return _2c?this.setTransform([this.matrix,_2c]):this;},applyLeftTransform:function(_2d){return _2d?this.setTransform([_2d,this.matrix]):this;},applyTransform:function(_2e){return _2e?this.setTransform([this.matrix,_2e]):this;},removeShape:function(_2f){if(this.parent){this.parent.remove(this,_2f);}return this;},_setParent:function(_30,_31){this.parent=_30;return this._updateParentMatrix(_31);},_updateParentMatrix:function(_32){this.parentMatrix=_32?_23.clone(_32):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_23.multiply(p.matrix,m);}p=p.parent;}return m;}});_24._eventsProcessing={connect:function(_33,_34,_35){return _20.connect(this.getEventSource(),_33,_24.fixCallback(this,g.fixTarget,_34,_35));},disconnect:function(_36){_20.disconnect(_36);}};_24.fixCallback=function(_37,_38,_39,_3a){if(!_3a){_3a=_39;_39=null;}if(_1d.isString(_3a)){_39=_39||_1f.global;if(!_39[_3a]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_3a,"\"] is null (scope=\"",_39,"\")"].join(""));}return function(e){return _38(e,_37)?_39[_3a].apply(_39,arguments||[]):undefined;};}return !_39?function(e){return _38(e,_37)?_3a.apply(_39,arguments):undefined;}:function(e){return _38(e,_37)?_3a.apply(_39,arguments||[]):undefined;};};_1d.extend(_24.Shape,_24._eventsProcessing);_24.Container={_init:function(){this.children=[];},openBatch:function(){},closeBatch:function(){},add:function(_3b){var _3c=_3b.getParent();if(_3c){_3c.remove(_3b,true);}this.children.push(_3b);return _3b._setParent(this,this._getRealMatrix());},remove:function(_3d,_3e){for(var i=0;i<this.children.length;++i){if(this.children[i]==_3d){if(_3e){}else{_3d.parent=null;_3d.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(_3f){var _40;for(var i=0;i<this.children.length;++i){_40=this.children[i];_40.parent=null;_40.parentMatrix=null;if(_3f){_40.destroy();}}this.children=[];return this;},getBoundingBox:function(){if(this.children){var _41=null;arr.forEach(this.children,function(_42){var bb=_42.getBoundingBox();if(bb){var ct=_42.getTransform();if(ct){bb=_23.multiplyRectangle(ct,bb);}if(_41){_41.x=Math.min(_41.x,bb.x);_41.y=Math.min(_41.y,bb.y);_41.endX=Math.max(_41.endX,bb.x+bb.width);_41.endY=Math.max(_41.endY,bb.y+bb.height);}else{_41={x:bb.x,y:bb.y,endX:bb.x+bb.width,endY:bb.y+bb.height};}}});if(_41){_41.width=_41.endX-_41.x;_41.height=_41.endY-_41.y;}return _41;}return null;},_moveChildToFront:function(_43){for(var i=0;i<this.children.length;++i){if(this.children[i]==_43){this.children.splice(i,1);this.children.push(_43);break;}}return this;},_moveChildToBack:function(_44){for(var i=0;i<this.children.length;++i){if(this.children[i]==_44){this.children.splice(i,1);this.children.unshift(_44);break;}}return this;}};_24.Surface=_1e("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_21.destroy);this._nodes=[];arr.forEach(this._events,_20.disconnect);this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_21.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_45){},whenLoaded:function(_46,_47){var f=_1d.hitch(_46,_47);if(this.isLoaded){f(this);}else{var h=_20.connect(this,"onLoad",function(_48){_20.disconnect(h);f(_48);});}}});_1d.extend(_24.Surface,_24._eventsProcessing);_24.Rect=_1e("dojox.gfx.shape.Rect",_24.Shape,{constructor:function(_49){this.shape=g.getDefault("Rect");this.rawNode=_49;},getBoundingBox:function(){return this.shape;}});_24.Ellipse=_1e("dojox.gfx.shape.Ellipse",_24.Shape,{constructor:function(_4a){this.shape=g.getDefault("Ellipse");this.rawNode=_4a;},getBoundingBox:function(){if(!this.bbox){var _4b=this.shape;this.bbox={x:_4b.cx-_4b.rx,y:_4b.cy-_4b.ry,width:2*_4b.rx,height:2*_4b.ry};}return this.bbox;}});_24.Circle=_1e("dojox.gfx.shape.Circle",_24.Shape,{constructor:function(_4c){this.shape=g.getDefault("Circle");this.rawNode=_4c;},getBoundingBox:function(){if(!this.bbox){var _4d=this.shape;this.bbox={x:_4d.cx-_4d.r,y:_4d.cy-_4d.r,width:2*_4d.r,height:2*_4d.r};}return this.bbox;}});_24.Line=_1e("dojox.gfx.shape.Line",_24.Shape,{constructor:function(_4e){this.shape=g.getDefault("Line");this.rawNode=_4e;},getBoundingBox:function(){if(!this.bbox){var _4f=this.shape;this.bbox={x:Math.min(_4f.x1,_4f.x2),y:Math.min(_4f.y1,_4f.y2),width:Math.abs(_4f.x2-_4f.x1),height:Math.abs(_4f.y2-_4f.y1)};}return this.bbox;}});_24.Polyline=_1e("dojox.gfx.shape.Polyline",_24.Shape,{constructor:function(_50){this.shape=g.getDefault("Polyline");this.rawNode=_50;},setShape:function(_51,_52){if(_51&&_51 instanceof Array){this.inherited(arguments,[{points:_51}]);if(_52&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_51]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _53=[];for(var i=0;i<l;i+=2){_53.push({x:p[i],y:p[i+1]});}this.shape.points=_53;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var _54={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(_54.l>t.x){_54.l=t.x;}if(_54.r<t.x){_54.r=t.x;}if(_54.t>t.y){_54.t=t.y;}if(_54.b<t.y){_54.b=t.y;}}this.bbox={x:_54.l,y:_54.t,width:_54.r-_54.l,height:_54.b-_54.t};}return this.bbox;}});_24.Image=_1e("dojox.gfx.shape.Image",_24.Shape,{constructor:function(_55){this.shape=g.getDefault("Image");this.rawNode=_55;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_24.Text=_1e(_24.Shape,{constructor:function(_56){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_56;},getFont:function(){return this.fontStyle;},setFont:function(_57){this.fontStyle=typeof _57=="string"?g.splitFontString(_57):g.makeParameters(g.defaultFont,_57);this._setFont();return this;}});_24.Creator={createShape:function(_58){switch(_58.type){case g.defaultPath.type:return this.createPath(_58);case g.defaultRect.type:return this.createRect(_58);case g.defaultCircle.type:return this.createCircle(_58);case g.defaultEllipse.type:return this.createEllipse(_58);case g.defaultLine.type:return this.createLine(_58);case g.defaultPolyline.type:return this.createPolyline(_58);case g.defaultImage.type:return this.createImage(_58);case g.defaultText.type:return this.createText(_58);case g.defaultTextPath.type:return this.createTextPath(_58);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(_59){return this.createObject(g.Rect,_59);},createEllipse:function(_5a){return this.createObject(g.Ellipse,_5a);},createCircle:function(_5b){return this.createObject(g.Circle,_5b);},createLine:function(_5c){return this.createObject(g.Line,_5c);},createPolyline:function(_5d){return this.createObject(g.Polyline,_5d);},createImage:function(_5e){return this.createObject(g.Image,_5e);},createText:function(_5f){return this.createObject(g.Text,_5f);},createPath:function(_60){return this.createObject(g.Path,_60);},createTextPath:function(_61){return this.createObject(g.TextPath,{}).setText(_61);},createObject:function(_62,_63){return null;}};return _24;});},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,_64,_65,_66,_67){var _68=_65("dojox.gfx.path.Path",_67.Shape,{constructor:function(_69){this.shape=_64.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_69;this.segmented=false;},setAbsoluteMode:function(_6a){this._confirmSegmented();this.absolute=typeof _6a=="string"?(_6a=="absolute"):_6a;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var _6b=this.bbox,_66=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_66);}var t=this.bbox;this.bbox=_6b;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_66.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_6c,_6d){var n=_6c.args,l=n.length,i;switch(_6c.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_6d);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_6d);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_6d);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _6e=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_6d);_6e=2;}for(i=_6e;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_6d);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_6d);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_6d);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_6d);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_6d);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_6d);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_6d);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_6d);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_6d);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_6d);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_6d);}this.absolute=false;break;}var _6f=[_6c.action];for(i=0;i<l;++i){_6f.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=_6f.join("");}else{Array.prototype.push.apply(this.shape.path,_6f);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_70,_71){this.tbbox=null;var _72=this._validSegments[_70.toLowerCase()],_73;if(typeof _72=="number"){if(_72){if(_71.length>=_72){_73={action:_70,args:_71.slice(0,_71.length-_71.length%_72)};this.segments.push(_73);this._updateWithSegment(_73);}}else{_73={action:_70,args:[]};this.segments.push(_73);this._updateWithSegment(_73);}}},_collectArgs:function(_74,_75){for(var i=0;i<_75.length;++i){var t=_75[i];if(typeof t=="boolean"){_74.push(t?1:0);}else{if(typeof t=="number"){_74.push(t);}else{if(t instanceof Array){this._collectArgs(_74,t);}else{if("x" in t&&"y" in t){_74.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var _76=[];this._collectArgs(_76,arguments);this._pushSegment(this.absolute?"M":"m",_76);return this;},lineTo:function(){this._confirmSegmented();var _77=[];this._collectArgs(_77,arguments);this._pushSegment(this.absolute?"L":"l",_77);return this;},hLineTo:function(){this._confirmSegmented();var _78=[];this._collectArgs(_78,arguments);this._pushSegment(this.absolute?"H":"h",_78);return this;},vLineTo:function(){this._confirmSegmented();var _79=[];this._collectArgs(_79,arguments);this._pushSegment(this.absolute?"V":"v",_79);return this;},curveTo:function(){this._confirmSegmented();var _7a=[];this._collectArgs(_7a,arguments);this._pushSegment(this.absolute?"C":"c",_7a);return this;},smoothCurveTo:function(){this._confirmSegmented();var _7b=[];this._collectArgs(_7b,arguments);this._pushSegment(this.absolute?"S":"s",_7b);return this;},qCurveTo:function(){this._confirmSegmented();var _7c=[];this._collectArgs(_7c,arguments);this._pushSegment(this.absolute?"Q":"q",_7c);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var _7d=[];this._collectArgs(_7d,arguments);this._pushSegment(this.absolute?"T":"t",_7d);return this;},arcTo:function(){this._confirmSegmented();var _7e=[];this._collectArgs(_7e,arguments);this._pushSegment(this.absolute?"A":"a",_7e);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var _7f=this.shape.path;this.shape.path=[];this._setPath(_7f);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(_80){var p=_64.isArray(_80)?_80:_80.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _81="",_82=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_81){this._pushSegment(_81,_82);}_82=[];_81=t;}else{_82.push(x);}}this._pushSegment(_81,_82);},setShape:function(_83){this.inherited(arguments,[typeof _83=="string"?{path:_83}:_83]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _84=_65("dojox.gfx.path.TextPath",_68,{constructor:function(_85){if(!("text" in this)){this.text=_64.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=_64.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_86){this.text=g.makeParameters(this.text,typeof _86=="string"?{text:_86}:_86);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_87){this.fontStyle=typeof _87=="string"?g.splitFontString(_87):g.makeParameters(g.defaultFont,_87);this._setFont();return this;}});return g.path={Path:_68,TextPath:_84};});},"dojox/gfx/decompose":function(){define("dojox/gfx/decompose",["./_base","dojo/_base/lang","./matrix"],function(g,_88,m){function eq(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};function _89(r1,m1,r2,m2){if(!isFinite(r1)){return r2;}else{if(!isFinite(r2)){return r1;}}m1=Math.abs(m1);m2=Math.abs(m2);return (m1*r1+m2*r2)/(m1+m2);};function _8a(_8b){var M=new m.Matrix2D(_8b);return _88.mixin(M,{dx:0,dy:0,xy:M.yx,yx:M.xy});};function _8c(_8d){return (_8d.xx*_8d.yy<0||_8d.xy*_8d.yx>0)?-1:1;};function _8e(_8f){var M=m.normalize(_8f),b=-M.xx-M.yy,c=M.xx*M.yy-M.xy*M.yx,d=Math.sqrt(b*b-4*c),l1=-(b+(b<0?-d:d))/2,l2=c/l1,vx1=M.xy/(l1-M.xx),vy1=1,vx2=M.xy/(l2-M.xx),vy2=1;if(eq(l1,l2)){vx1=1,vy1=0,vx2=0,vy2=1;}if(!isFinite(vx1)){vx1=1,vy1=(l1-M.xx)/M.xy;if(!isFinite(vy1)){vx1=(l1-M.yy)/M.yx,vy1=1;if(!isFinite(vx1)){vx1=1,vy1=M.yx/(l1-M.yy);}}}if(!isFinite(vx2)){vx2=1,vy2=(l2-M.xx)/M.xy;if(!isFinite(vy2)){vx2=(l2-M.yy)/M.yx,vy2=1;if(!isFinite(vx2)){vx2=1,vy2=M.yx/(l2-M.yy);}}}var d1=Math.sqrt(vx1*vx1+vy1*vy1),d2=Math.sqrt(vx2*vx2+vy2*vy2);if(!isFinite(vx1/=d1)){vx1=0;}if(!isFinite(vy1/=d1)){vy1=0;}if(!isFinite(vx2/=d2)){vx2=0;}if(!isFinite(vy2/=d2)){vy2=0;}return {value1:l1,value2:l2,vector1:{x:vx1,y:vy1},vector2:{x:vx2,y:vy2}};};function _90(M,_91){var _92=_8c(M),a=_91.angle1=(Math.atan2(M.yx,M.yy)+Math.atan2(-_92*M.xy,_92*M.xx))/2,cos=Math.cos(a),sin=Math.sin(a);_91.sx=_89(M.xx/cos,cos,-M.xy/sin,sin);_91.sy=_89(M.yy/cos,cos,M.yx/sin,sin);return _91;};function _93(M,_94){var _95=_8c(M),a=_94.angle2=(Math.atan2(_95*M.yx,_95*M.xx)+Math.atan2(-M.xy,M.yy))/2,cos=Math.cos(a),sin=Math.sin(a);_94.sx=_89(M.xx/cos,cos,M.yx/sin,sin);_94.sy=_89(M.yy/cos,cos,-M.xy/sin,sin);return _94;};return g.decompose=function(_96){var M=m.normalize(_96),_97={dx:M.dx,dy:M.dy,sx:1,sy:1,angle1:0,angle2:0};if(eq(M.xy,0)&&eq(M.yx,0)){return _88.mixin(_97,{sx:M.xx,sy:M.yy});}if(eq(M.xx*M.yx,-M.xy*M.yy)){return _90(M,_97);}if(eq(M.xx*M.xy,-M.yx*M.yy)){return _93(M,_97);}var MT=_8a(M),u=_8e([M,MT]),v=_8e([MT,M]),U=new m.Matrix2D({xx:u.vector1.x,xy:u.vector2.x,yx:u.vector1.y,yy:u.vector2.y}),VT=new m.Matrix2D({xx:v.vector1.x,xy:v.vector1.y,yx:v.vector2.x,yy:v.vector2.y}),S=new m.Matrix2D([m.invert(U),M,m.invert(VT)]);_90(VT,_97);S.xx*=_97.sx;S.yy*=_97.sy;_93(U,_97);S.xx*=_97.sx;S.yy*=_97.sy;return _88.mixin(_97,{sx:S.xx,sy:S.yy});};});},"*noref":1}});define("dojox/gfx/canvas",["./_base","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/window","dojo/dom-geometry","dojo/dom","./_base","./shape","./path","./arc","./matrix","./decompose"],function(g,_98,arr,_99,win,_9a,dom,_9b,gs,_9c,ga,m,_9d){var _9e=g.canvas={};var _9f=null,mp=m.multiplyPoint,pi=Math.PI,_a0=2*pi,_a1=pi/2,_a2=_98.extend;_9e.Shape=_99("dojox.gfx.canvas.Shape",gs.Shape,{_render:function(ctx){ctx.save();this._renderTransform(ctx);this._renderClip(ctx);this._renderShape(ctx);this._renderFill(ctx,true);this._renderStroke(ctx,true);ctx.restore();},_renderClip:function(ctx){if(this.canvasClip){this.canvasClip.render(ctx);ctx.clip();}},_renderTransform:function(ctx){if("canvasTransform" in this){var t=this.canvasTransform;ctx.translate(t.dx,t.dy);ctx.rotate(t.angle2);ctx.scale(t.sx,t.sy);ctx.rotate(t.angle1);}},_renderShape:function(ctx){},_renderFill:function(ctx,_a3){if("canvasFill" in this){var fs=this.fillStyle;if("canvasFillImage" in this){var w=fs.width,h=fs.height,iw=this.canvasFillImage.width,ih=this.canvasFillImage.height,sx=w==iw?1:w/iw,sy=h==ih?1:h/ih,s=Math.min(sx,sy),dx=(w-s*iw)/2,dy=(h-s*ih)/2;_9f.width=w;_9f.height=h;var _a4=_9f.getContext("2d");_a4.clearRect(0,0,w,h);_a4.drawImage(this.canvasFillImage,0,0,iw,ih,dx,dy,s*iw,s*ih);this.canvasFill=ctx.createPattern(_9f,"repeat");delete this.canvasFillImage;}ctx.fillStyle=this.canvasFill;if(_a3){if(fs.type==="pattern"&&(fs.x!==0||fs.y!==0)){ctx.translate(fs.x,fs.y);}ctx.fill();}}else{ctx.fillStyle="rgba(0,0,0,0.0)";}},_renderStroke:function(ctx,_a5){var s=this.strokeStyle;if(s){ctx.strokeStyle=s.color.toString();ctx.lineWidth=s.width;ctx.lineCap=s.cap;if(typeof s.join=="number"){ctx.lineJoin="miter";ctx.miterLimit=s.join;}else{ctx.lineJoin=s.join;}if(_a5){ctx.stroke();}}else{if(!_a5){ctx.strokeStyle="rgba(0,0,0,0.0)";}}},getEventSource:function(){return null;},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(_a6){this.inherited(arguments);var _a7=_a6?"width" in _a6?"rect":"cx" in _a6?"ellipse":"points" in _a6?"polyline":"d" in _a6?"path":null:null;if(_a6&&!_a7){return this;}this.canvasClip=_a6?_a8(_a7,_a6):null;this.surface.makeDirty();return this;}});var _a8=function(_a9,_aa){switch(_a9){case "ellipse":return {canvasEllipse:_ab(_aa),render:function(ctx){return _9e.Ellipse.prototype._renderShape.call(this,ctx);}};case "rect":return {shape:_98.delegate(_aa,{r:0}),render:function(ctx){return _9e.Rect.prototype._renderShape.call(this,ctx);}};case "path":return {canvasPath:_ac(_aa),render:function(ctx){this.canvasPath._renderShape(ctx);}};case "polyline":return {canvasPolyline:_aa.points,render:function(ctx){return _9e.Polyline.prototype._renderShape.call(this,ctx);}};}return null;};var _ac=function(geo){var p=new dojox.gfx.canvas.Path();p.canvasPath=[];p._setPath(geo.d);return p;};var _ad=function(_ae,_af,_b0){var old=_ae.prototype[_af];_ae.prototype[_af]=_b0?function(){this.surface.makeDirty();old.apply(this,arguments);_b0.call(this);return this;}:function(){this.surface.makeDirty();return old.apply(this,arguments);};};_ad(_9e.Shape,"setTransform",function(){if(this.matrix){this.canvasTransform=g.decompose(this.matrix);}else{delete this.canvasTransform;}});_ad(_9e.Shape,"setFill",function(){var fs=this.fillStyle,f;if(fs){if(typeof (fs)=="object"&&"type" in fs){var ctx=this.surface.rawNode.getContext("2d");switch(fs.type){case "linear":case "radial":f=fs.type=="linear"?ctx.createLinearGradient(fs.x1,fs.y1,fs.x2,fs.y2):ctx.createRadialGradient(fs.cx,fs.cy,0,fs.cx,fs.cy,fs.r);arr.forEach(fs.colors,function(_b1){f.addColorStop(_b1.offset,g.normalizeColor(_b1.color).toString());});break;case "pattern":if(!_9f){_9f=document.createElement("canvas");}var img=new Image();this.surface.downloadImage(img,fs.src);this.canvasFillImage=img;}}else{f=fs.toString();}this.canvasFill=f;}else{delete this.canvasFill;}});_ad(_9e.Shape,"setStroke");_ad(_9e.Shape,"setShape");_9e.Group=_99("dojox.gfx.canvas.Group",_9e.Shape,{constructor:function(){gs.Container._init.call(this);},_render:function(ctx){ctx.save();this._renderTransform(ctx);this._renderClip(ctx);for(var i=0;i<this.children.length;++i){this.children[i]._render(ctx);}ctx.restore();},destroy:function(){this.clear(true);_9e.Shape.prototype.destroy.apply(this,arguments);}});_9e.Rect=_99("dojox.gfx.canvas.Rect",[_9e.Shape,gs.Rect],{_renderShape:function(ctx){var s=this.shape,r=Math.min(s.r,s.height/2,s.width/2),xl=s.x,xr=xl+s.width,yt=s.y,yb=yt+s.height,xl2=xl+r,xr2=xr-r,yt2=yt+r,yb2=yb-r;ctx.beginPath();ctx.moveTo(xl2,yt);if(r){ctx.arc(xr2,yt2,r,-_a1,0,false);ctx.arc(xr2,yb2,r,0,_a1,false);ctx.arc(xl2,yb2,r,_a1,pi,false);ctx.arc(xl2,yt2,r,pi,pi+_a1,false);}else{ctx.lineTo(xr2,yt);ctx.lineTo(xr,yb2);ctx.lineTo(xl2,yb);ctx.lineTo(xl,yt2);}ctx.closePath();}});var _b2=[];(function(){var u=ga.curvePI4;_b2.push(u.s,u.c1,u.c2,u.e);for(var a=45;a<360;a+=45){var r=m.rotateg(a);_b2.push(mp(r,u.c1),mp(r,u.c2),mp(r,u.e));}})();var _ab=function(s){var t,c1,c2,r=[],M=m.normalize([m.translate(s.cx,s.cy),m.scale(s.rx,s.ry)]);t=mp(M,_b2[0]);r.push([t.x,t.y]);for(var i=1;i<_b2.length;i+=3){c1=mp(M,_b2[i]);c2=mp(M,_b2[i+1]);t=mp(M,_b2[i+2]);r.push([c1.x,c1.y,c2.x,c2.y,t.x,t.y]);}return r;};_9e.Ellipse=_99("dojox.gfx.canvas.Ellipse",[_9e.Shape,gs.Ellipse],{setShape:function(){this.inherited(arguments);this.canvasEllipse=_ab(this.shape);return this;},_renderShape:function(ctx){var r=this.canvasEllipse;ctx.beginPath();ctx.moveTo.apply(ctx,r[0]);for(var i=1;i<r.length;++i){ctx.bezierCurveTo.apply(ctx,r[i]);}ctx.closePath();}});_9e.Circle=_99("dojox.gfx.canvas.Circle",[_9e.Shape,gs.Circle],{_renderShape:function(ctx){var s=this.shape;ctx.beginPath();ctx.arc(s.cx,s.cy,s.r,0,_a0,1);}});_9e.Line=_99("dojox.gfx.canvas.Line",[_9e.Shape,gs.Line],{_renderShape:function(ctx){var s=this.shape;ctx.beginPath();ctx.moveTo(s.x1,s.y1);ctx.lineTo(s.x2,s.y2);}});_9e.Polyline=_99("dojox.gfx.canvas.Polyline",[_9e.Shape,gs.Polyline],{setShape:function(){this.inherited(arguments);var p=this.shape.points,f=p[0],r,c,i;this.bbox=null;this._normalizePoints();if(p.length){if(typeof f=="number"){r=p;}else{r=[];for(i=0;i<p.length;++i){c=p[i];r.push(c.x,c.y);}}}else{r=[];}this.canvasPolyline=r;return this;},_renderShape:function(ctx){var p=this.canvasPolyline;if(p.length){ctx.beginPath();ctx.moveTo(p[0],p[1]);for(var i=2;i<p.length;i+=2){ctx.lineTo(p[i],p[i+1]);}}}});_9e.Image=_99("dojox.gfx.canvas.Image",[_9e.Shape,gs.Image],{setShape:function(){this.inherited(arguments);var img=new Image();this.surface.downloadImage(img,this.shape.src);this.canvasImage=img;return this;},_renderShape:function(ctx){var s=this.shape;ctx.drawImage(this.canvasImage,s.x,s.y,s.width,s.height);}});_9e.Text=_99("dojox.gfx.canvas.Text",[_9e.Shape,gs.Text],{_setFont:function(){if(this.fontStyle){this.canvasFont=g.makeFontString(this.fontStyle);}else{delete this.canvasFont;}},getTextWidth:function(){var s=this.shape,w=0,ctx;if(s.text&&s.text.length>0){ctx=this.surface.rawNode.getContext("2d");ctx.save();this._renderTransform(ctx);this._renderFill(ctx,false);this._renderStroke(ctx,false);if(this.canvasFont){ctx.font=this.canvasFont;}w=ctx.measureText(s.text).width;ctx.restore();}return w;},_render:function(ctx){ctx.save();this._renderTransform(ctx);this._renderFill(ctx,false);this._renderStroke(ctx,false);this._renderShape(ctx);ctx.restore();},_renderShape:function(ctx){var ta,s=this.shape;if(!s.text||s.text.length==0){return;}ta=s.align==="middle"?"center":s.align;ctx.textAlign=ta;if(this.canvasFont){ctx.font=this.canvasFont;}if(this.canvasFill){ctx.fillText(s.text,s.x,s.y);}if(this.strokeStyle){ctx.beginPath();ctx.strokeText(s.text,s.x,s.y);ctx.closePath();}}});_ad(_9e.Text,"setFont");if(win.global.CanvasRenderingContext2D){var _b3=win.doc.createElement("canvas").getContext("2d");if(_b3&&typeof _b3.fillText!="function"){_9e.Text.extend({getTextWidth:function(){return 0;},_renderShape:function(){}});}}var _b4={M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};_9e.Path=_99("dojox.gfx.canvas.Path",[_9e.Shape,_9c.Path],{constructor:function(){this.lastControl={};},setShape:function(){this.canvasPath=[];return this.inherited(arguments);},_updateWithSegment:function(_b5){var _b6=_98.clone(this.last);this[_b4[_b5.action]](this.canvasPath,_b5.action,_b5.args);this.last=_b6;this.inherited(arguments);},_renderShape:function(ctx){var r=this.canvasPath;ctx.beginPath();for(var i=0;i<r.length;i+=2){ctx[r[i]].apply(ctx,r[i+1]);}},_moveToA:function(_b7,_b8,_b9){_b7.push("moveTo",[_b9[0],_b9[1]]);for(var i=2;i<_b9.length;i+=2){_b7.push("lineTo",[_b9[i],_b9[i+1]]);}this.last.x=_b9[_b9.length-2];this.last.y=_b9[_b9.length-1];this.lastControl={};},_moveToR:function(_ba,_bb,_bc){if("x" in this.last){_ba.push("moveTo",[this.last.x+=_bc[0],this.last.y+=_bc[1]]);}else{_ba.push("moveTo",[this.last.x=_bc[0],this.last.y=_bc[1]]);}for(var i=2;i<_bc.length;i+=2){_ba.push("lineTo",[this.last.x+=_bc[i],this.last.y+=_bc[i+1]]);}this.lastControl={};},_lineToA:function(_bd,_be,_bf){for(var i=0;i<_bf.length;i+=2){_bd.push("lineTo",[_bf[i],_bf[i+1]]);}this.last.x=_bf[_bf.length-2];this.last.y=_bf[_bf.length-1];this.lastControl={};},_lineToR:function(_c0,_c1,_c2){for(var i=0;i<_c2.length;i+=2){_c0.push("lineTo",[this.last.x+=_c2[i],this.last.y+=_c2[i+1]]);}this.lastControl={};},_hLineToA:function(_c3,_c4,_c5){for(var i=0;i<_c5.length;++i){_c3.push("lineTo",[_c5[i],this.last.y]);}this.last.x=_c5[_c5.length-1];this.lastControl={};},_hLineToR:function(_c6,_c7,_c8){for(var i=0;i<_c8.length;++i){_c6.push("lineTo",[this.last.x+=_c8[i],this.last.y]);}this.lastControl={};},_vLineToA:function(_c9,_ca,_cb){for(var i=0;i<_cb.length;++i){_c9.push("lineTo",[this.last.x,_cb[i]]);}this.last.y=_cb[_cb.length-1];this.lastControl={};},_vLineToR:function(_cc,_cd,_ce){for(var i=0;i<_ce.length;++i){_cc.push("lineTo",[this.last.x,this.last.y+=_ce[i]]);}this.lastControl={};},_curveToA:function(_cf,_d0,_d1){for(var i=0;i<_d1.length;i+=6){_cf.push("bezierCurveTo",_d1.slice(i,i+6));}this.last.x=_d1[_d1.length-2];this.last.y=_d1[_d1.length-1];this.lastControl.x=_d1[_d1.length-4];this.lastControl.y=_d1[_d1.length-3];this.lastControl.type="C";},_curveToR:function(_d2,_d3,_d4){for(var i=0;i<_d4.length;i+=6){_d2.push("bezierCurveTo",[this.last.x+_d4[i],this.last.y+_d4[i+1],this.lastControl.x=this.last.x+_d4[i+2],this.lastControl.y=this.last.y+_d4[i+3],this.last.x+_d4[i+4],this.last.y+_d4[i+5]]);this.last.x+=_d4[i+4];this.last.y+=_d4[i+5];}this.lastControl.type="C";},_smoothCurveToA:function(_d5,_d6,_d7){for(var i=0;i<_d7.length;i+=4){var _d8=this.lastControl.type=="C";_d5.push("bezierCurveTo",[_d8?2*this.last.x-this.lastControl.x:this.last.x,_d8?2*this.last.y-this.lastControl.y:this.last.y,_d7[i],_d7[i+1],_d7[i+2],_d7[i+3]]);this.lastControl.x=_d7[i];this.lastControl.y=_d7[i+1];this.lastControl.type="C";}this.last.x=_d7[_d7.length-2];this.last.y=_d7[_d7.length-1];},_smoothCurveToR:function(_d9,_da,_db){for(var i=0;i<_db.length;i+=4){var _dc=this.lastControl.type=="C";_d9.push("bezierCurveTo",[_dc?2*this.last.x-this.lastControl.x:this.last.x,_dc?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+_db[i],this.last.y+_db[i+1],this.last.x+_db[i+2],this.last.y+_db[i+3]]);this.lastControl.x=this.last.x+_db[i];this.lastControl.y=this.last.y+_db[i+1];this.lastControl.type="C";this.last.x+=_db[i+2];this.last.y+=_db[i+3];}},_qCurveToA:function(_dd,_de,_df){for(var i=0;i<_df.length;i+=4){_dd.push("quadraticCurveTo",_df.slice(i,i+4));}this.last.x=_df[_df.length-2];this.last.y=_df[_df.length-1];this.lastControl.x=_df[_df.length-4];this.lastControl.y=_df[_df.length-3];this.lastControl.type="Q";},_qCurveToR:function(_e0,_e1,_e2){for(var i=0;i<_e2.length;i+=4){_e0.push("quadraticCurveTo",[this.lastControl.x=this.last.x+_e2[i],this.lastControl.y=this.last.y+_e2[i+1],this.last.x+_e2[i+2],this.last.y+_e2[i+3]]);this.last.x+=_e2[i+2];this.last.y+=_e2[i+3];}this.lastControl.type="Q";},_qSmoothCurveToA:function(_e3,_e4,_e5){for(var i=0;i<_e5.length;i+=2){var _e6=this.lastControl.type=="Q";_e3.push("quadraticCurveTo",[this.lastControl.x=_e6?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=_e6?2*this.last.y-this.lastControl.y:this.last.y,_e5[i],_e5[i+1]]);this.lastControl.type="Q";}this.last.x=_e5[_e5.length-2];this.last.y=_e5[_e5.length-1];},_qSmoothCurveToR:function(_e7,_e8,_e9){for(var i=0;i<_e9.length;i+=2){var _ea=this.lastControl.type=="Q";_e7.push("quadraticCurveTo",[this.lastControl.x=_ea?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=_ea?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+_e9[i],this.last.y+_e9[i+1]]);this.lastControl.type="Q";this.last.x+=_e9[i];this.last.y+=_e9[i+1];}},_arcTo:function(_eb,_ec,_ed){var _ee=_ec=="a";for(var i=0;i<_ed.length;i+=7){var x1=_ed[i+5],y1=_ed[i+6];if(_ee){x1+=this.last.x;y1+=this.last.y;}var _ef=ga.arcAsBezier(this.last,_ed[i],_ed[i+1],_ed[i+2],_ed[i+3]?1:0,_ed[i+4]?1:0,x1,y1);arr.forEach(_ef,function(p){_eb.push("bezierCurveTo",p);});this.last.x=x1;this.last.y=y1;}this.lastControl={};},_closePath:function(_f0,_f1,_f2){_f0.push("closePath",[]);this.lastControl={};}});arr.forEach(["moveTo","lineTo","hLineTo","vLineTo","curveTo","smoothCurveTo","qCurveTo","qSmoothCurveTo","arcTo","closePath"],function(_f3){_ad(_9e.Path,_f3);});_9e.TextPath=_99("dojox.gfx.canvas.TextPath",[_9e.Shape,_9c.TextPath],{_renderShape:function(ctx){var s=this.shape;},_setText:function(){},_setFont:function(){}});_9e.Surface=_99("dojox.gfx.canvas.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);this.pendingImageCount=0;this.makeDirty();},setDimensions:function(_f4,_f5){this.width=g.normalizedLength(_f4);this.height=g.normalizedLength(_f5);if(!this.rawNode){return this;}var _f6=false;if(this.rawNode.width!=this.width){this.rawNode.width=this.width;_f6=true;}if(this.rawNode.height!=this.height){this.rawNode.height=this.height;_f6=true;}if(_f6){this.makeDirty();}return this;},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:null;},_render:function(_f7){if(!_f7&&this.pendingImageCount){return;}var ctx=this.rawNode.getContext("2d");ctx.clearRect(0,0,this.rawNode.width,this.rawNode.height);this.render(ctx);if("pendingRender" in this){clearTimeout(this.pendingRender);delete this.pendingRender;}},render:function(ctx){ctx.save();for(var i=0;i<this.children.length;++i){this.children[i]._render(ctx);}ctx.restore();},makeDirty:function(){if(!this.pendingImagesCount&&!("pendingRender" in this)){this.pendingRender=setTimeout(_98.hitch(this,this._render),0);}},downloadImage:function(img,url){var _f8=_98.hitch(this,this.onImageLoad);if(!this.pendingImageCount++&&"pendingRender" in this){clearTimeout(this.pendingRender);delete this.pendingRender;}img.onload=_f8;img.onerror=_f8;img.onabort=_f8;img.src=url;},onImageLoad:function(){if(!--this.pendingImageCount){this.onImagesLoaded();this._render();}},onImagesLoaded:function(){},getEventSource:function(){return null;},connect:function(){},disconnect:function(){}});_9e.createSurface=function(_f9,_fa,_fb){if(!_fa&&!_fb){var pos=_9a.position(_f9);_fa=_fa||pos.w;_fb=_fb||pos.h;}if(typeof _fa=="number"){_fa=_fa+"px";}if(typeof _fb=="number"){_fb=_fb+"px";}var s=new _9e.Surface(),p=dom.byId(_f9),c=p.ownerDocument.createElement("canvas");c.width=g.normalizedLength(_fa);c.height=g.normalizedLength(_fb);p.appendChild(c);s.rawNode=c;s._parent=p;s.surface=s;return s;};var C=gs.Container,_fc={add:function(_fd){this.surface.makeDirty();return C.add.apply(this,arguments);},remove:function(_fe,_ff){this.surface.makeDirty();return C.remove.apply(this,arguments);},clear:function(){this.surface.makeDirty();return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:function(_100){this.surface.makeDirty();return C._moveChildToFront.apply(this,arguments);},_moveChildToBack:function(_101){this.surface.makeDirty();return C._moveChildToBack.apply(this,arguments);}};var _102={createObject:function(_103,_104){var _105=new _103();_105.surface=this.surface;_105.setShape(_104);this.add(_105);return _105;}};_a2(_9e.Group,_fc);_a2(_9e.Group,gs.Creator);_a2(_9e.Group,_102);_a2(_9e.Surface,_fc);_a2(_9e.Surface,gs.Creator);_a2(_9e.Surface,_102);_9e.fixTarget=function(_106,_107){return true;};return _9e;});