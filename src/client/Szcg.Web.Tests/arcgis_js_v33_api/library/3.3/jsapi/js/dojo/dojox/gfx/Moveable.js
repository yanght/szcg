//>>built
define("dojox/gfx/Moveable",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/topic","dojo/touch","dojo/dom-class","dojo/_base/window","./Mover","dojo/mouse"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _2("dojox.gfx.Moveable",null,{constructor:function(_b,_c){this.shape=_b;this.delay=(_c&&_c.delay>0)?_c.delay:0;this.mover=(_c&&_c.mover)?_c.mover:_9;this.leftButtonOnly=_c&&_c.leftButtonOnly;this.events=[this.shape.connect(_6.press,this,"onMouseDown")];},destroy:function(){_3.forEach(this.events,this.shape.disconnect,this.shape);this.events=this.shape=null;},onMouseDown:function(e){if(this.delay){this.events.push(this.shape.connect(_6.move,this,"onMouseMove"),this.shape.connect(_6.release,this,"onMouseUp"));this._lastX=e.clientX;this._lastY=e.clientY;}else{if(!this.leftButtonOnly||_a.isLeft(e)){new this.mover(this.shape,e,this);}}_4.stop(e);},onMouseMove:function(e){if(Math.abs(e.clientX-this._lastX)>this.delay||Math.abs(e.clientY-this._lastY)>this.delay){this.onMouseUp(e);new this.mover(this.shape,e,this);}_4.stop(e);},onMouseUp:function(e){this.shape.disconnect(this.events.pop());this.shape.disconnect(this.events.pop());this.shape.disconnect(this.events.pop());this.shape.disconnect(this.events.pop());},onMoveStart:function(_d){_5.publish("/gfx/move/start",_d);_7.add(_8.body(),"dojoMove");},onMoveStop:function(_e){_5.publish("/gfx/move/stop",_e);_7.remove(_8.body(),"dojoMove");},onFirstMove:function(_f){},onMove:function(_10,_11){this.onMoving(_10,_11);this.shape.applyLeftTransform(_11);this.onMoved(_10,_11);},onMoving:function(_12,_13){},onMoved:function(_14,_15){}});});