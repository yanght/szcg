//>>built
define("dgrid/ColumnSet",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/aspect","dojo/query","dojo/has","put-selector/put","xstyle/has-class","./Grid","dojo/_base/sniff","xstyle/css!./css/columnset.css"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){_9("safari","ie-7");return _2("dgrid.ColumnSet",[_a],{columnSets:[],createRowCells:function(_b,_c){var _d=_8("table.dgrid-row-table");var tr=_8(_d,"tbody tr");for(var i=0,l=this.columnSets.length;i<l;i++){var _e=_8(tr,_b+".dgrid-column-set-cell.dgrid-column-set-"+i+" div.dgrid-column-set[colsetid="+i+"]");_e.appendChild(this.inherited(arguments,[_b,_c,this.columnSets[i]]));}return _d;},renderArray:function(){var _f=this,_10=this.inherited(arguments);_3.when(_10,function(_11){for(var i=0;i<_11.length;i++){_12(_f,_11[i]);}});return _10;},renderHeader:function(){this.inherited(arguments);this.bodyNode.style.bottom="17px";var _13=this.columnSets,_14=this.domNode,_15=this._columnSetScrollers,_16=this._columnSetScrollerContents={},_17=this._columnSetScrollLefts={},_18=this,i,l;function _19(){var _1a=this.scrollLeft;var _1b=this.getAttribute("colsetid");if(_17[_1b]!=_1a){_17[_1b]=_1a;_6(".dgrid-column-set[colsetid=\""+_1b+"\"],.dgrid-column-set-scroller[colsetid=\""+_1b+"\"]",_14).forEach(function(_1c){_1c.scrollLeft=_1a;});}};function _1d(_1e,i){var _1f=_15[i]=_8(_14,"div.dgrid-column-set-scroller.dgrid-scrollbar-height.dgrid-column-set-scroller-"+i+"[colsetid="+i+"]");_16[i]=_8(_1f,"div.dgrid-column-set-scroller-content");_4(_1f,"scroll",_19);};function _20(){_21(_18,_14);};if(_15){for(i in _15){_8("!",_15[i]);}}else{_5.after(this,"resize",_20);_4(_14,".dgrid-column-set:dgrid-cellfocusin",_19);_5.after(this,"styleColumn",_20);}_15=this._columnSetScrollers={};for(i=0,l=_13.length;i<l;i++){_1d(_13[i],i);}_21(this,_14);},configStructure:function(){this.columns={};for(var i=0,l=this.columnSets.length;i<l;i++){var _22=this.columnSets[i];for(var j=0;j<_22.length;j++){_22[j]=this._configColumns(i+"-"+j+"-",_22[j]);}}},_setColumnSets:function(_23){this.columnSets=_23;this._updateColumns();},setColumnSets:function(_24){_1.deprecated("setColumnSets(...)","use set(\"columnSets\", ...) instead","dgrid 1.0");this.set("columnSets",_24);}});function _21(_25,_26){var _27=_25._columnSetScrollers,_28=_25._columnSetScrollerContents,_29=_25.columnSets,_2a=0,_2b=0,i,l,_2c,_2d;for(i=0,l=_29.length;i<l;i++){_2a+=_2b;_2c=_6(".dgrid-column-set[colsetid=\""+i+"\"]",_26)[0];_2b=_2c.offsetWidth;_2d=_2c.firstChild.offsetWidth;_28[i].style.width=_2d+"px";_27[i].style.width=_2b+"px";_27[i].style.overflowX=_2d>_2b?"scroll":"auto";_27[i].style.left=_2a+"px";}};function _12(_2e,row){var _2f=_2e._columnSetScrollLefts;function _30(){_6(".dgrid-column-set",row).forEach(function(_31){_31.scrollLeft=_2f[_31.getAttribute("colsetid")];});};if(_7("ie")<8||_7("quirks")){setTimeout(_30,1);}else{_30();}};});