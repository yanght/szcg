/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
define("esri/dijit/AttributeInspector",["dijit","dojo","dojox","dojo/require!dojo/fx,dojox/gfx,dijit/_Widget,dijit/_Templated,dijit/Editor,dijit/_editor/plugins/LinkDialog,dijit/_editor/plugins/TextColor,esri/dijit/editing/AttachmentEditor,esri/dijit/editing/Util,esri/tasks/query,dijit/form/DateTextBox,dijit/form/TextBox,dijit/form/NumberTextBox,dijit/form/FilteringSelect,dijit/form/NumberSpinner,dijit/form/Button,dijit/form/SimpleTextarea,dijit/Tooltip,dojo/data/ItemFileReadStore,dojox/date/islamic,dojox/date/islamic/Date,dojox/date/islamic/locale"],function(_1,_2,_3){_2.provide("esri.dijit.AttributeInspector");_2.require("dojo.fx");_2.require("dojox.gfx");_2.require("dijit._Widget");_2.require("dijit._Templated");_2.require("dijit.Editor");_2.require("dijit._editor.plugins.LinkDialog");_2.require("dijit._editor.plugins.TextColor");_2.require("esri.dijit.editing.AttachmentEditor");_2.require("esri.dijit.editing.Util");_2.require("esri.tasks.query");_2.require("dijit.form.DateTextBox");_2.require("dijit.form.TextBox");_2.require("dijit.form.NumberTextBox");_2.require("dijit.form.FilteringSelect");_2.require("dijit.form.NumberSpinner");_2.require("dijit.form.Button");_2.require("dijit.form.SimpleTextarea");_2.require("dijit.Tooltip");_2.require("dojo.data.ItemFileReadStore");_2.require("dojox.date.islamic");_2.require("dojox.date.islamic.Date");_2.require("dojox.date.islamic.locale");_2.declare("esri.dijit.AttributeInspector",[_1._Widget,_1._Templated],{widgetsInTemplate:true,templateString:"<div class=\"esriAttributeInspector\">\r\n    <div class=\"atiLayerName\" dojoAttachPoint=\"layerName\"></div>\r\n    <div class=\"atiAttributes\" dojoAttachPoint=\"attributeTable\"></div>\r\n    <div dojoAttachPoint=\"attachmentEditor\"></div>\r\n    <div class=\"atiEditorTrackingInfo\" dojoAttachPoint=\"editorTrackingInfoDiv\"></div>\r\n    <div class=\"atiButtons\" dojoAttachPoint=\"editButtons\">\r\n        <button  dojoType=\"dijit.form.Button\" class=\"atiButton atiDeleteButton\"  dojoAttachPoint=\"deleteBtn\" dojoAttachEvent=\"onClick: onDeleteBtn\" showLabel=\"true\" type=\"button\">${NLS_deleteFeature}</button>\r\n        <div class=\"atiNavButtons\" dojoAttachPoint=\"navButtons\">\r\n            <div class=\"atiNavMessage\" dojoAttachPoint=\"navMessage\"></div>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiFirstIcon\" dojoAttachPoint=\"firstFeatureButton\" dojoAttachEvent=\"onClick: onFirstFeature\" showLabel=\"false\" type=\"button\">${NLS_first}</button>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiPrevIcon\" dojoAttachPoint=\"prevFeatureButton\" dojoAttachEvent=\"onClick: onPreviousFeature\" showLabel=\"false\" type=\"button\">${NLS_previous}</button>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiNextIcon\" dojoAttachPoint=\"nextFeatureButton\" dojoAttachEvent=\"onClick: onNextFeature\" showLabel=\"false\" type=\"button\">${NLS_next}</button>\r\n            <button  dojoType=\"dijit.form.Button\" iconClass=\"atiButton atiLastIcon\" dojoAttachPoint=\"lastFeatureButton\" dojoAttachEvent=\"onClick: onLastFeature\" showLabel=\"false\" type=\"button\">${NLS_last}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n",_navMessage:"( ${idx} ${of} ${numFeatures} )",onUpdate:function(){},onDelete:function(){},onAttributeChange:function(){},onNext:function(){},onReset:function(){},onCancel:function(){},constructor:function(_4,_5){_2.mixin(this,esri.bundle.widgets.attributeInspector);_4=_4||{};if(!_4.featureLayer&&!_4.layerInfos){console.error("esri.AttributeInspector: please provide correct parameter in the constructor");}this._userIds={};if(_4.featureLayer&&_4.featureLayer.credential){var _6=_4.featureLayer.id;this._userIds[_6]=_4.featureLayer.credential.userId;}else{if(_4.layerInfos){var _7=_4.layerInfos;_2.forEach(_7,function(_8){if(_8.featureLayer){var _9=_8.featureLayer.id;if(_8.featureLayer.credential){this._userIds[_9]=_8.featureLayer.credential.userId;}if(_8.userId){this._userIds[_9]=_8.userId;}}},this);}}this._datePackage=this._getDatePackage(_4);this._layerInfos=_4.layerInfos||[{featureLayer:_4.featureLayer,options:_4.options||[]}];this._aiConnects=[];this._selection=[];this._toolTips=[];this._numFeatures=0;this._featureIdx=0;this._currentLInfo=null;this._currentFeature=null;this._hideNavButtons=_4.hideNavButtons||false;},postCreate:function(){this._initLayerInfos();this._createAttachmentEditor();this.onFirstFeature();},destroy:function(){this._destroyAttributeTable();_2.forEach(this._aiConnects,_2.disconnect);delete this._aiConnects;if(this._attachmentEditor){this._attachmentEditor.destroy();delete this._attachmentEditor;}delete this._layerInfos;this._selection=this._currentFeature=this._currentLInfo=this._attributes=this._layerInfos=null;this.inherited(arguments);},refresh:function(){this._updateSelection();},first:function(){this.onFirstFeature();},last:function(){this.onLastFeature();},next:function(){this.onNextFeature();},previous:function(){this.onPreviousFeature();},showFeature:function(_a,_b){if(_b){this._createOnlyFirstTime=true;}this._updateSelection([_a],_b);this._updateUI();},onLayerSelectionChange:function(_c,_d,_e){this._createOnlyFirstTime=false;this._featureIdx=(_e===esri.layers.FeatureLayer.SELECTION_NEW)?0:this._featureIdx;this._updateSelection();this._updateUI();},onLayerSelectionClear:function(){if(!this._selection||this._selection.length<=0){return;}this._numFeatures=0;this._featureIdx=0;this._selection=[];this._currentFeature=null;this._currentLInfo=null;this._updateUI();},onLayerEditsComplete:function(_f,_10,_11,_12){_12=_12||[];if(_12.length){var _13=this._selection;var _14=_f.featureLayer.objectIdField;_2.forEach(_12,_2.hitch(this,function(del){_2.some(_13,_2.hitch(this,function(_15,idx){if(_15.attributes[_14]!==del.objectId){return false;}this._selection.splice(idx,1);return true;}));}));}_10=_10||[];if(_10.length){this._selection=esri.dijit.editing.Util.LayerHelper.findFeatures(_10,_f.featureLayer);this._featureIdx=0;}var _16=this._numFeatures=this._selection?this._selection.length:0;if(_10.length){var _17=_16?this._selection[this._featureIdx]:null;if(_17){var _18=_17.getLayer();var _19=_18.getEditCapabilities();if(!(_19.canCreate&&!_19.canUpdate)){this._showFeature(_17);}}}this._updateUI();},onFieldValueChange:function(_1a,_1b){_1b=(typeof _1b==="undefined")?null:_1b;var _1c=_1a.field;if(_1c.type==="esriFieldTypeDate"){_1b=(_1b&&_1b.getTime)?_1b.getTime():(_1b&&_1b.toGregorian?_1b.toGregorian().getTime():_1b);}if(this._currentFeature.attributes[_1c.name]===_1b){return;}var _1d=this._currentLInfo;var _1e=this._currentFeature;var _1f=_1c.name;if(_1f===_1d.typeIdField){var _20=this._findFirst(_1d.types,"id",_1b);var _21=_1d.fieldInfos;_2.forEach(_21,function(_22){_1c=_22.field;if(!_1c||_1c.name===_1d.typeIdField){return;}var _23=_22.dijit;var _24=this._setFieldDomain(_23,_20,_1c);if(_24&&_23){this._setValue(_23,_1e.attributes[_1c.name]+"");if(_23.isValid()===false){this._setValue(_23,null);}}},this);}this.onAttributeChange(_1e,_1f,_1b);},onDeleteBtn:function(evt){this._deleteFeature();},onNextFeature:function(evt){this._onNextFeature(1);},onPreviousFeature:function(evt){this._onNextFeature(-1);},onFirstFeature:function(evt){this._onNextFeature(this._featureIdx*-1);},onLastFeature:function(evt){this._onNextFeature((this._numFeatures-1)-this._featureIdx);},_initLayerInfos:function(){var _25=this._layerInfos;this._editorTrackingInfos={};_2.forEach(_25,this._initLayerInfo,this);},_initLayerInfo:function(_26){var _27=_26.featureLayer;this._connect(_27,"onSelectionComplete",_2.hitch(this,"onLayerSelectionChange",_26));this._connect(_27,"onSelectionClear",_2.hitch(this,"onLayerSelectionClear",_26));this._connect(_27,"onEditsComplete",_2.hitch(this,"onLayerEditsComplete",_26));_26.showAttachments=_27.hasAttachments?(esri._isDefined(_26.showAttachments)?_26.showAttachments:true):false;_26.hideFields=_26.hideFields||[];_26.htmlFields=_26.htmlFields||[];_26.isEditable=_27.isEditable()?(esri._isDefined(_26.isEditable)?_26.isEditable:true):false;_26.typeIdField=_27.typeIdField;_26.layerId=_27.id;_26.types=_27.types;if(!_26.showGlobalID&&_27.globalIdField){_26.hideFields.push(_27.globalIdField);}if(!_26.showObjectID){_26.hideFields.push(_27.objectIdField);}var _28=this._getFields(_26.featureLayer);if(!_28){return;}var _29=_26.fieldInfos||[];_29=_2.map(_29,function(_2a){return _2.mixin({},_2a);});if(!_29.length){_28=_2.filter(_28,_2.hitch(this,function(_2b){return !this._isInFields(_2b.name,_26.hideFields);}));_26.fieldInfos=_2.map(_28,_2.hitch(this,function(_2c){var _2d=(this._isInFields(_2c.name,_26.htmlFields)?esri.dijit.AttributeInspector.STRING_FIELD_OPTION_RICHTEXT:esri.dijit.AttributeInspector.STRING_FIELD_OPTION_TEXTBOX);return {"fieldName":_2c.name,"field":_2c,"stringFieldOption":_2d};}));}else{_26.fieldInfos=_2.filter(_2.map(_29,_2.hitch(this,function(_2e){var _2f=_2e.stringFieldOption||(this._isInFields(_2e.fieldName,_26.htmlFields)?esri.dijit.AttributeInspector.STRING_FIELD_OPTION_RICHTEXT:esri.dijit.AttributeInspector.STRING_FIELD_OPTION_TEXTBOX);return _2.mixin(_2e,{"field":this._findFirst(_28,"name",_2e.fieldName),"stringFieldOption":_2f});})),"return item.field;");}var _30=[];if(_27.editFieldsInfo){if(_27.editFieldsInfo.creatorField){_30.push(_27.editFieldsInfo.creatorField);}if(_27.editFieldsInfo.creationDateField){_30.push(_27.editFieldsInfo.creationDateField);}if(_27.editFieldsInfo.editorField){_30.push(_27.editFieldsInfo.editorField);}if(_27.editFieldsInfo.editDateField){_30.push(_27.editFieldsInfo.editDateField);}}this._editorTrackingInfos[_27.id]=_30;},_createAttachmentEditor:function(){this._attachmentEditor=null;var _31=this._layerInfos;var _32=_2.filter(_31,"return item.showAttachments");if(!_32||!_32.length){return;}this._attachmentEditor=new esri.dijit.editing.AttachmentEditor({"class":"atiAttachmentEditor"},this.attachmentEditor);this._attachmentEditor.startup();},_setCurrentLInfo:function(_33){var _34=this._currentLInfo?this._currentLInfo.featureLayer:null;var _35=_33.featureLayer;if(_34&&_34.id===_35.id&&!_34.ownershipBasedAccessControlForFeatures){var _36=_35.getEditCapabilities();if(!(_36.canCreate&&!_36.canUpdate)){return;}}this._currentLInfo=_33;this._createTable();},_updateSelection:function(_37,_38){this._selection=_37||[];var _39=this._layerInfos;_2.forEach(_39,this._getSelection,this);var _3a=this._numFeatures=this._selection.length;var _3b=_3a?this._selection[this._featureIdx]:null;this._showFeature(_3b,_38);},_getSelection:function(_3c){var _3d=_3c.featureLayer.getSelectedFeatures();this._selection=this._selection.concat(_3d);},_updateUI:function(){var _3e=this._numFeatures;var _3f=this._currentLInfo;this.layerName.innerHTML=(!_3f||_3e===0)?this.NLS_noFeaturesSelected:(_3f.featureLayer?_3f.featureLayer.name:"");_2.style(this.attributeTable,"display",_3e?"":"none");_2.style(this.editButtons,"display",_3e?"":"none");_2.style(this.navButtons,"display",(!this._hideNavButtons&&(_3e>1)?"":"none"));this.navMessage.innerHTML=esri.substitute({idx:this._featureIdx+1,of:this.NLS_of,numFeatures:this._numFeatures},this._navMessage);if(this._attachmentEditor){_2.style(this._attachmentEditor.domNode,"display",((_3f&&_3f.showAttachments)&&_3e)?"":"none");}var _40=((_3f&&_3f.showDeleteButton===false)||!this._canDelete)?false:true;_2.style(this.deleteBtn.domNode,"display",_40?"":"none");if(this.domNode.parentNode&&this.domNode.parentNode.scrollTop>0){this.domNode.parentNode.scrollTop=0;}},_onNextFeature:function(_41){this._featureIdx+=_41;if(this._featureIdx<0){this._featureIdx=this._numFeatures-1;}else{if(this._featureIdx>=this._numFeatures){this._featureIdx=0;}}var _42=this._selection.length?this._selection[this._featureIdx]:null;this._showFeature(_42);this._updateUI();this.onNext(_42);},_deleteFeature:function(){this.onDelete(this._currentFeature);},_showFeature:function(_43,_44){if(!_43){return;}this._currentFeature=_43;var _45=_44?_44:_43.getLayer();var _46=_45.getEditCapabilities({feature:_43,userId:this._userIds[_45.id]});this._canUpdate=_46.canUpdate;this._canDelete=_46.canDelete;var _47=this._getLInfoFromFeatureLayer(_45);if(!_47){return;}this._setCurrentLInfo(_47);var _48=_43.attributes;var _49=this._findFirst(_47.types,"id",_48[_47.typeIdField]);var _4a,_4b=null;var _4c=_47.fieldInfos;_2.forEach(_4c,function(_4d){_4b=_4d.field;_4a=_4d.dijit||null;if(!_4a){return;}var _4e=this._setFieldDomain(_4a,_49,_4b);var _4f=_48[_4b.name];_4f=(_4f&&_4e&&_4e.codedValues&&_4e.codedValues.length)?(_4e.codedValues[_4f]?_4e.codedValues[_4f].name:_4f):_4f;if(!esri._isDefined(_4f)){_4f="";}if(_4a.declaredClass==="dijit.form.DateTextBox"){_4f=(_4f==="")?null:new Date(_4f);}else{if(_4a.declaredClass==="dijit.form.FilteringSelect"){_4a._lastValueReported=null;_4f=_48[_4b.name]+"";}}try{this._setValue(_4a,_4f);if(_4a.declaredClass==="dijit.form.FilteringSelect"&&_4a.isValid()===false){this._setValue(_4a,null);}}catch(error){_4a.set("displayedValue",this.NLS_errorInvalid,false);}},this);if(this._attachmentEditor&&_47.showAttachments){this._attachmentEditor.showAttachments(this._currentFeature);}var _50=_45.getEditSummary(_43);if(_50){this.editorTrackingInfoDiv.innerHTML=_50;esri.show(this.editorTrackingInfoDiv);}else{esri.hide(this.editorTrackingInfoDiv);}},_setFieldDomain:function(_51,_52,_53){if(!_51){return null;}var _54=_53.domain;if(_52&&_52.domains){if(_52.domains[_53.name]&&_52.domains[_53.name] instanceof esri.layers.InheritedDomain===false){_54=_52.domains[_53.name];}}if(!_54){return null;}if(_54.codedValues&&_54.codedValues.length>0){_51.set("store",this._toStore(_2.map(_54.codedValues,"return { id: item.code += '', name: item.name };")));this._setValue(_51,_54.codedValues[0].code);}else{_51.constraints={min:esri._isDefined(_54.minValue)?_54.minValue:Number.MIN_VALUE,max:esri._isDefined(_54.maxValue)?_54.maxValue:Number.MAX_VALUE};this._setValue(_51,_51.constraints.min);}return _54;},_setValue:function(_55,_56){if(!_55.set){return;}_55._onChangeActive=false;_55.set("value",_56,true);_55._onChangeActive=true;},_getFields:function(_57){var _58=_57._getOutFields();if(!_58){return null;}var _59=_57.fields;return (_58=="*")?_59:_2.filter(_2.map(_58,_2.hitch(this,"_findFirst",_59,"name")),esri._isDefined);},_isInFields:function(_5a,_5b){if(!_5a||!_5b&&!_5b.length){return false;}return _2.some(_5b,function(_5c){return _5c.toLowerCase()===_5a.toLowerCase();});},_findFirst:function(_5d,_5e,_5f){var _60=_2.filter(_5d,function(_61){return _61.hasOwnProperty(_5e)&&_61[_5e]===_5f;});return (_60&&_60.length)?_60[0]:null;},_getLInfoFromFeatureLayer:function(_62){var _63=_62?_62.id:null;return this._findFirst(this._layerInfos,"layerId",_63);},_createTable:function(){this._destroyAttributeTable();this.attributeTable.innerHTML="";this._attributes=_2.create("table",{cellspacing:"0",cellpadding:"0"},this.attributeTable);var _64=_2.create("tbody",null,this._attributes);var _65=this._currentFeature;var _66=this._currentLInfo;var _67=this._findFirst(_66.types,"id",_65.attributes[_66.typeIdField]);var _68=_66.fieldInfos;_2.forEach(_68,_2.hitch(this,"_createField",_67,_64),this);this._createOnlyFirstTime=false;},_createField:function(_69,_6a,_6b){var _6c=this._currentLInfo;var _6d=_6b.field;if(this._isInFields(_6d.name,_6c.hideFields)){return;}if(this._isInFields(_6d.name,this._editorTrackingInfos[_6c.featureLayer.id])){return;}var _6e=_2.create("tr",null,_6a);var td=_2.create("td",{innerHTML:_6b.label||_6d.alias||_6d.name,"class":"atiLabel"},_6e);td=_2.create("td",null,_6e);var _6f=null;var _70=false;if(_6b.customField){_2.place(_6b.customField.domNode||_6b.customField,_2.create("div",null,td),"first");_6f=_6b.customField;}else{if(_6c.isEditable===false||_6d.editable===false||_6b.isEditable===false||_6d.type==="esriFieldTypeOID"||_6d.type==="esriFieldTypeGlobalID"||(!this._canUpdate&&!this._createOnlyFirstTime)){_70=true;}}if(!_6f&&(_6c.typeIdField&&_6d.name.toLowerCase()==_6c.typeIdField.toLowerCase())){_6f=this._createTypeField(_6d,_6b,td);}else{if(!_6f){_6f=this._createDomainField(_6d,_6b,_69,td);}}if(!_6f){switch(_6d.type){case "esriFieldTypeString":_6f=this._createStringField(_6d,_6b,td);break;case "esriFieldTypeDate":_6f=this._createDateField(_6d,_6b,td);break;case "esriFieldTypeInteger":case "esriFieldTypeSmallInteger":_6f=this._createIntField(_6d,_6b,td);break;case "esriFieldTypeSingle":case "esriFieldTypeDouble":_6f=this._createFltField(_6d,_6b,td);break;default:_6f=this._createStringField(_6d,_6b,td);break;}}if(_6b.tooltip&&_6b.tooltip.length){this._toolTips.push(new _1.Tooltip({connectId:[_6f.id],label:_6b.tooltip}));}_6f.onChange=_2.hitch(this,"onFieldValueChange",_6b);_6f.set("disabled",_70);_6b.dijit=_6f;},_createTypeField:function(_71,_72,_73){return new _1.form.FilteringSelect({"class":"atiField",name:_71.alias||_71.name,store:this._toStore(_2.map(this._currentLInfo.types,"return { id: item.id, name: item.name };")),searchAttr:"name"},_2.create("div",null,_73));},_createDomainField:function(_74,_75,_76,_77){var _78=_74.domain;if(_76&&_76.domains){if(_76.domains[_74.name]&&_76.domains[_74.name] instanceof esri.layers.InheritedDomain===false){_78=_76.domains[_74.name];}}if(!_78){return null;}if(_78.codedValues){return new _1.form.FilteringSelect({"class":"atiField",name:_74.alias||_74.name,searchAttr:"name",required:_74.nullable||false},_2.create("div",null,_77));}else{return new _1.form.NumberSpinner({"class":"atiField"},_2.create("div",null,_77));}},_createStringField:function(_79,_7a,_7b){var _7c={"class":"atiField",trim:true,maxLength:_79.length};if(_7a.stringFieldOption===esri.dijit.AttributeInspector.STRING_FIELD_OPTION_TEXTAREA){_7c["class"]+=" atiTextAreaField";return new _1.form.SimpleTextarea(_7c,_2.create("div",null,_7b));}else{if(_7a.stringFieldOption===esri.dijit.AttributeInspector.STRING_FIELD_OPTION_RICHTEXT){_7c["class"]+=" atiRichTextField";_7c.height="100%";_7c.width="100%";_7c.plugins=_7a.richTextPlugins||["bold","italic","underline","foreColor","hiliteColor","|","justifyLeft","justifyCenter","justifyRight","justifyFull","|","insertOrderedList","insertUnorderedList","indent","outdent","|","createLink"];return new _1.Editor(_7c,_2.create("div",null,_7b));}else{return new _1.form.TextBox(_7c,_2.create("div",null,_7b));}}},_createDateField:function(_7d,_7e,_7f){var _80={"class":"atiField","trim":true};if(this._datePackage){_80.datePackage=this._datePackage;}return new _1.form.DateTextBox(_80,_2.create("div",null,_7f));},_createIntField:function(_81,_82,_83){return new _1.form.NumberTextBox({"class":"atiField",constraints:{places:0},invalidMessage:this.NLS_validationInt,trim:true},_2.create("div",null,_83));},_createFltField:function(_84,_85,_86){return new _1.form.NumberTextBox({"class":"atiField",trim:true,invalidMessage:this.NLS_validationFlt},_2.create("div",null,_86));},_toStore:function(_87){return new _2.data.ItemFileReadStore({data:{identifier:"id",label:"name",items:_87}});},_connect:function(_88,evt,_89){this._aiConnects.push(_2.connect(_88,evt,_89));},_getDatePackage:function(_8a){if(_8a.datePackage===null){return null;}else{if(_8a.datePackage){return _8a.datePackage;}else{if(_2.locale==="ar"){return "dojox.date.islamic";}}}return null;},_destroyAttributeTable:function(){var _8b=this._layerInfos;_2.forEach(_8b,function(_8c){var _8d=_8c.fieldInfos;_2.forEach(_8d,function(_8e){var _8f=_8e.dijit;if(_8f){_8f._onChangeHandle=null;if(_8e.customField){return;}if(_8f.destroyRecursive){_8f.destroyRecursive();}else{if(_8f.destroy){_8f.destroy();}}}_8e.dijit=null;},this);},this);var _90=this._toolTips;_2.forEach(_90,"item.destroy(); delete item;");this._toolTips=[];if(this._attributes){_2.destroy(this._attributes);}}});_2.mixin(esri.dijit.AttributeInspector,{STRING_FIELD_OPTION_RICHTEXT:"richtext",STRING_FIELD_OPTION_TEXTAREA:"textarea",STRING_FIELD_OPTION_TEXTBOX:"textbox"});});